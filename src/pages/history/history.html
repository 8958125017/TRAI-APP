<!--
  Generated template for the HistoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <button ion-button menuToggle>
      <img class="trai-menu" menuToggle src="assets/icon/menu.png" alt="">
    </button>
    <!-- <ion-icon name="menu"><img menuToggle src="assets/icon/menu.png" alt=""></ion-icon> -->

    <ion-title>
      <img class="header-img" alt="" src="assets/icon/header-logo.png" (click)="checkPermission()">
    </ion-title>


  </ion-navbar>

</ion-header>


<ion-content padding-top>

  <!-- Header start -->
  <ion-grid class="trai-my-head">
    <ion-row>
      <ion-col col-12 class="trai-pref-head" no-padding>
        <div class="trai-head-img">
          <img src="assets/icon/calls-sms.png" />
        </div>
        <div class="trai-head-text">
            <span>Last 30 days Calls & SMS Variation</span>
        </div>
        <div class="trai-line"></div>
        <ion-grid>
          <ion-row class="trai-pref-c">
            <ion-col col-12>
              <div class="call-head">
                <span class="trai-my-head-a"> 30 days Calls</span>
                <span class="trai-my-head-b">
                  <ion-icon ios="ios-arrow-dropdown" md="md-arrow-dropdown"></ion-icon> 2% Spam
                </span>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-col>
    </ion-row>
  </ion-grid>
  <!-- Header end -->

  <ion-grid class="trai-cal-cont">
    <ion-toolbar padding color="light" mode="md" class="tool-custom" style=" margin-top: 15px;   border-radius: 35px;
  background: #fff; padding: 0;min-height:0;">
      <ion-segment color="dark" mode="md" [(ngModel)]="section">
        <ion-segment-button active value="one" (click)="callLog()">
          Call
        </ion-segment-button>
        <ion-segment-button value="two" (click)="getSMS()">
          SMS
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>



  <ion-card>

    <ion-card-content no-padding>
      <!-- Add card content here! -->
      <div [ngSwitch]="section">
        <ion-list *ngSwitchCase="'one'" inset>
          <ion-item ion-item class="trai-cal-data-a" *ngFor="let d of mobileId">
            <ion-row>
              <ion-col col-6>
                <small>
                  <ion-icon class="icon-default-color" name="ios-call-outline"></ion-icon>&nbsp;{{d.phoneNumber}}</small>
              </ion-col>
              <ion-col col-6 text-right>
                <small>
                  <ion-icon class="icon-default-color" name="ios-trending-up-outline"></ion-icon>&nbsp;{{d.callDuration}}</small>
              </ion-col>
            </ion-row>
            <ion-row class="trai-cont-set">
              <ion-col col-4>
                <small>
                  <img style="width: 10px; display: inline;" src="assets/icon/outgoing.svg" alt="">&nbsp;{{d.type}}</small>
              </ion-col>
              <ion-col col-4>
                <small>
                  <ion-icon class="icon-default-color" name="ios-clock-outline"></ion-icon>&nbsp;{{d.date | date:'dd/MM/yyyy'}}</small>
              </ion-col>
              <ion-col col-4  text-right (click)="reportCall(d.phoneNumber,d.date,d.callDuration,d.type)">
                  <small>
                    <ion-icon style=" color: #15488a;" ios="ios-paper" md="md-paper" (click)="report(d)"></ion-icon>&nbsp;Report</small>
                </ion-col>

            </ion-row>
          </ion-item>
          
          
          
          



        </ion-list>

        <ion-list *ngSwitchCase="'two'" inset>
          
          <ion-item ion-item *ngFor="let x of messages">
              <ion-row>
                <ion-col style="font-size: 12px;">
                  {{x.address}}
                </ion-col>
              </ion-row>

              <ion-row style="font-size:14px;">
                <ion-col col-6>
                  <small>
                    <ion-icon class="icon-default-color" ios="ios-text" md="md-text"></ion-icon>&nbsp;{{(x.body | slice:0:22)+"..."}}</small>
                </ion-col>
                <ion-col col-3 (click)="reportSms(x.address)">
                  <small>
                    <ion-icon style=" color: #15488a;" ios="ios-paper" md="md-paper"></ion-icon>&nbsp;Report</small>
                </ion-col>
                <ion-col col-3>
                  <small>
                    <ion-icon class="icon-default-color" name="ios-clock-outline"></ion-icon>&nbsp;{{x.date | date:'dd/MM/yyyy'}}</small>
                </ion-col>

              </ion-row>
            </ion-item>
            

        </ion-list>
      </div>
    </ion-card-content>

  </ion-card>
</ion-grid>



</ion-content>
